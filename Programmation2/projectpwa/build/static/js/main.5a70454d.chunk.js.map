{"version":3,"sources":["img/pwa.png","constantes.js","components/Rapports.js","components/Accueil.js","components/BoutonInstallPWA.js","components/MenuSansPostBack.js","components/FormAjoutRappVoyage.js","components/AjouterRapport.js","components/BoutonAjouterRapport.js","components/FormEditerRapport.js","components/PageNotFound.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","API","Rapports","props","Col","xs","sm","lg","CardGroup","type","config","num","rps","radius","life","v","tha","alpha","scale","position","color","cross","random","g","onParticleUpdate","ctx","particle","beginPath","rect","p","x","y","fillStyle","fill","closePath","bg","Card","className","Img","variant","src","this","photo","Body","to","titre","id","Subtitle","nom","Text","rapport_voyage","React","Component","Accueil","state","donneesRecues","fetch","response","json","reponseDeApi","setState","ok","Error","statusText","console","log","Container","Row","triggerOnce","map","key","i","theme","utilisateur","_id","picture","rapport","BoutonInstallPWA","Button","size","block","MenuSansPostBack","Navbar","fixed","collapseOnSelect","expand","Brand","Toggle","aria-controls","Collapse","Nav","exact","FormAjoutRappVoyage","setErrors","handleAdd","bind","handlePhoto","addPokemon","addRapport","method","headers","body","JSON","stringify","jsonResponse","history","push","toast","success","event","preventDefault","document","getElementById","value","photos","fluid","Form","Group","controlId","Label","Control","placeholder","onBlur","Image","rounded-0","width","as","onClick","AjouterRapport","BoutonAjouterRapport","FormEditerRapports","useState","setDonneesRecues","location","search","substring","length","rapportID","setPhotos","a","error","useEffect","getRapportInfos","defaultValue","editRapport","PageNotFound","App","useLocation","autoClose","hideProgressBar","from","path","component","FormEditerRapport","pathname","startsWith","isLocalhost","Boolean","window","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","ReactDOM","render","StrictMode","URL","process","href","origin","addEventListener","contentType","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.5a70454d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/pwa.3abe438f.png\";","export const API = \"https://crudcrud.com/api/d2aeca13f99f4360940ac77caea001e2/voyages/\";","//Étudiant: Rafael De Mendonça \r\n//Projet Final: PWA / CrudCrud - BlogTours\r\n//Cours: Tech. Intégration des interfaces web2 et Techniques de Programmation Web 2\r\n//Date: 2020-09-27\r\n\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Card, CardGroup, Col, Row, Container } from \"react-bootstrap\";\r\nimport ParticlesBg from \"particles-bg\"; //Cette librerie n'ai marche pas sur GitHubPages\r\nimport '../App.sass';\r\n\r\n\r\nexport class Rapports extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    let config = {\r\n      num: [4, 7],\r\n      rps: 0.1,\r\n      radius: [5, 40],\r\n      life: [1.5, 3],\r\n      v: [2, 3],\r\n      tha: [-40, 40],\r\n      // body: \"./img/icon.png\", // Whether to render pictures\r\n      // rotate: [0, 20],\r\n      alpha: [0.6, 0],\r\n      scale: [1, 0.1],\r\n      position: \"center\", // all or center or {x:1,y:1,width:100,height:100}\r\n      color: [\"random\", \"#407294\"],\r\n      cross: \"dead\", // cross or bround\r\n      random: 15,  // or null,\r\n      g: 5,    // gravity\r\n      // f: [2, -1], // force\r\n      onParticleUpdate: (ctx, particle) => {\r\n          ctx.beginPath();\r\n          ctx.rect(particle.p.x, particle.p.y, particle.radius * 2, particle.radius * 2);\r\n          ctx.fillStyle = particle.color;\r\n          ctx.fill();\r\n          ctx.closePath();\r\n      }\r\n    };\r\n\r\n\r\n    return ( \r\n      <Col xs={12} sm={6} lg={6}>    \r\n        <CardGroup><ParticlesBg type=\"squarep\" config={config} bg={true}/>    \r\n            <Card className=\"rounded-0 bg-white mt-3 shadow mb-5\"> \r\n              <Card.Img className=\"img-fluid rounded-0\" variant=\"top\" src={this.props.photo} />       \r\n              <Card.Body>\r\n                <Link to={\"Rapports/\"+ this.props.titre + \"?id=\" + this.props.id}>\r\n                    <Card.Subtitle><h4>{this.props.nom}</h4> </Card.Subtitle>\r\n                    <p>{this.props.titre} <br></br><p className=\"text-danger \">Editer</p></p>                    \r\n                    <Card.Text className=\"text-justify\">{this.props.rapport_voyage}</Card.Text>\r\n                </Link>\r\n              </Card.Body>\r\n            </Card>\r\n        </CardGroup> \r\n      </Col>      \r\n    );\r\n  }\r\n}","//Étudiant: Rafael De Mendonça \r\n//Projet Final: PWA / CrudCrud - BlogTours\r\n//Cours: Tech. Intégration des interfaces web2 et Techniques de Programmation Web 2\r\n//Date: 2020-09-27\r\n\r\nimport React from \"react\";\r\nimport {API } from \"../constantes\";\r\nimport { Container, Row } from \"react-bootstrap\";\r\nimport { Rapports } from \"./Rapports\";\r\nimport { Slide } from \"react-awesome-reveal\"; //Librerie d'animation react-awesome-reveal\r\nimport '../App.sass';\r\n\r\nexport class Accueil extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { donneesRecues: [] };\r\n  }\r\n\r\n  //Ajout de la gestion des erreurs\r\n  async componentDidMount() {\r\n    try {\r\n      const response = await fetch(API);\r\n      const reponseDeApi = await response.json();\r\n      this.setState({ donneesRecues: reponseDeApi });\r\n        if (!response.ok) {\r\n          throw Error(response.statusText);\r\n        }\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n  }\r\n\r\n  render() {\r\n    return (     \r\n      <> \r\n      <Container>\r\n      <Row>\r\n        <Slide triggerOnce>         \r\n          <h1 className=\"text-muted mb-3\">Rapports de voyages</h1>\r\n        </Slide> \r\n      </Row>\r\n      <Row  className=\"d-flex justify-content-around\">                  \r\n        {this.state.donneesRecues.map((key,i) => (\r\n            <Rapports \r\n                    titre={key.theme}\r\n                    nom={key.utilisateur}\r\n                    id={key._id}\r\n                    key={key.titre + key._id}                    \r\n                    photo={key.picture} \r\n                    rapport_voyage={key.rapport}\r\n                    >\r\n            </Rapports>\r\n          ))}                   \r\n        </Row> \r\n      </Container>\r\n      </>     \r\n    );\r\n  }    \r\n}\r\n\r\n","//Étudiant: Rafael De Mendonça \r\n//Projet Final: PWA / CrudCrud - BlogTours\r\n//Cours: Tech. Intégration des interfaces web2 et Techniques de Programmation Web 2\r\n//Date: 2020-09-27\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport Button from 'react-bootstrap/Button';  \r\n\r\nfunction BoutonInstallPWA() {\r\n  return (\r\n    <Button className=\"rounded-0 btn-style text-center\" size=\"sm\" block id=\"boutonInstall\">\r\n      Installer l'application\r\n    </Button>\r\n  );\r\n}\r\n\r\nexport default BoutonInstallPWA;\r\n","//Étudiant: Rafael De Mendonça \r\n//Projet Final: PWA / CrudCrud - BlogTours\r\n//Cours: Tech. Intégration des interfaces web2 et Techniques de Programmation Web 2\r\n//Date: 2020-09-27\r\n\r\nimport React from \"react\";\r\nimport { Nav, Navbar } from \"react-bootstrap\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport BoutonInstallPWA from './BoutonInstallPWA';\r\nimport '../App.sass';\r\n\r\nexport class MenuSansPostBack extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n   \r\n    return (\r\n      <>\r\n        <Navbar fixed=\"top\" collapseOnSelect expand=\"lg\" className=\"shadow bg-ligth-blue\">\r\n        <Navbar.Brand>BlogTours</Navbar.Brand>\r\n        <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\r\n        <Navbar.Collapse id=\"responsive-navbar-nav\">\r\n        <Nav className=\"mr-auto\">\r\n            <NavLink  className=\"mr-3\" exact to=\"/\" >Accueil</NavLink>\r\n            <NavLink  className=\"mr-3 float-right\" to=\"/AjouterRapport\">Ajouter Voyage</NavLink> \r\n        </Nav>\r\n        <Nav>\r\n          <BoutonInstallPWA/>\r\n        </Nav>       \r\n        </Navbar.Collapse>\r\n        </Navbar>  \r\n      </>\r\n    );\r\n  }\r\n}","//Étudiant: Rafael De Mendonça \r\n//Projet Final: PWA / CrudCrud - BlogTours\r\n//Cours: Tech. Intégration des interfaces web2 et Techniques de Programmation Web 2\r\n//Date: 2020-09-27\r\n\r\nimport React from \"react\";\r\nimport { Container, Row, Col } from \"react-bootstrap\";\r\nimport { Form, Button, Image } from \"react-bootstrap\"\r\n\r\nimport { API } from '../constantes.js';\r\nimport {toast} from \"react-toastify\";\r\nimport '../App.sass';\r\n\r\nexport class FormAjoutRappVoyage extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {photo: \"\", setErrors : {}};\r\n\r\n    this.handleAdd = this.handleAdd.bind(this);\r\n    this.handlePhoto = this.handlePhoto.bind(this);\r\n    this.addPokemon = this.addRapport.bind(this);\r\n  }\r\n\r\n  async addRapport(nom,titre,photo, rapport_voyage) { \r\n    try{ \r\n      const response = await fetch(API, { \r\n        method:'POST', \r\n        headers: {'Content-Type': 'application/json'  }, \r\n        body:JSON.stringify({\r\n            theme: titre,\r\n            utilisateur: nom,            \r\n            picture: photo,\r\n            rapport: rapport_voyage          \r\n        }) \r\n      }); \r\n      if(response.ok){ \r\n        const jsonResponse = await response.json(); \r\n        this.props.history.push(\"/\");\r\n        toast.success(\"Ajout du Rapport \" + titre);\r\n\r\n        return jsonResponse; \r\n      } \r\n      throw new Error('Request failed!'); \r\n  } \r\n   catch(error){ \r\n      console.log(error); \r\n   } \r\n}\r\n\r\n  handleAdd(event){\r\n    event.preventDefault();\r\n    \r\n    const titre = document.getElementById('titreRapport').value;\r\n     const nom = document.getElementById('nomRapport').value;\r\n    const photo = document.getElementById('photoRapport').value;\r\n    const rapport_voyage = document.getElementById('rapport_voyageRapport').value;\r\n\r\n    this.addRapport(titre,nom,photo,rapport_voyage);\r\n  }\r\n\r\n  handlePhoto(event){\r\n    const photos = document.getElementById('photoRapport').value;\r\n    this.setState( {photo : photos});\r\n  }\r\n\r\n\r\n  render() {\r\n    console.log(this.props.history);\r\n    return (\r\n      <>\r\n      <Container fluid className=\"postal_parallax\">\r\n        <Container >\r\n          <Row>\r\n            <Col>\r\n              <Form className=\"my-5\">\r\n                <Form.Group controlId=\"titreRapport\">\r\n                  <Form.Label className=\"bg-form\">Titre</Form.Label>\r\n                  <Form.Control className=\"rounded-0\" type=\"text\" placeholder=\"Entrer le titre du Rapport de voyage\" />\r\n                </Form.Group>\r\n              <Form.Group controlId=\"nomRapport\">\r\n                <Form.Label className=\"bg-form\">Nom du utilisateur</Form.Label>\r\n                <Form.Control className=\"rounded-0\" type=\"text\" placeholder=\"Entrer votre nom\" />\r\n              </Form.Group>\r\n              <Form.Group controlId=\"photoRapport\">\r\n                <Form.Label className=\"bg-form\">URL d'une photo de la destination</Form.Label>\r\n                <Form.Control className=\"rounded-0\" type=\"text\" placeholder=\"Entrer une URL valide\" onBlur={this.handlePhoto}/>\r\n              </Form.Group>\r\n              {this.state.photo !== \"\" && <Image src={this.state.photo} rounded-0 width=\"300\"/>}\r\n              <Form.Group controlId=\"rapport_voyageRapport\">\r\n                <Form.Label className=\"bg-form\">Décrivez votre expérience de voyage</Form.Label>\r\n                <Form.Control as=\"textarea\" className=\"rapport rounded-0\" type=\"text\" placeholder=\"Entrer votre expérience de voyage.\" />\r\n              </Form.Group>\r\n                <Button className=\"rounded-0\" variant=\"primary\" type=\"submit\" onClick={this.handleAdd}>\r\n                    Enregistrer\r\n              </Button>\r\n              </Form>  \r\n            </Col>    \r\n          </Row>\r\n        </Container>\r\n        </Container>\r\n      </>\r\n    );\r\n  }\r\n}","//Étudiant: Rafael De Mendonça \r\n//Projet Final: PWA / CrudCrud - BlogTours\r\n//Cours: Tech. Intégration des interfaces web2 et Techniques de Programmation Web 2\r\n//Date: 2020-09-27\r\n\r\nimport React from \"react\";\r\nimport { FormAjoutRappVoyage } from \"./FormAjoutRappVoyage\";\r\n\r\n\r\nexport class AjouterRapport extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  } \r\n  render() {\r\n    return (\r\n      <>\r\n        <FormAjoutRappVoyage history={this.props.history} />\r\n      </>\r\n    );\r\n  }\r\n}","//Étudiant: Rafael De Mendonça \r\n//Projet Final: PWA / CrudCrud - BlogTours\r\n//Cours: Tech. Intégration des interfaces web2 et Techniques de Programmation Web 2\r\n//Date: 2020-09-27\r\n\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport class BoutonAjouterRapport extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <> \r\n        <Link to=\"/AjouterRapport\" className=\"btn btn-sm mt-5 rounded-0 btn-style fixed-bottom\" size=\"md\" >\r\n          Ajouter un Rapport de Voyage\r\n        </Link>\r\n      </>\r\n    );\r\n  }\r\n}","//Étudiant: Rafael De Mendonça \r\n//Projet Final: PWA / CrudCrud - BlogTours\r\n//Cours: Tech. Intégration des interfaces web2 et Techniques de Programmation Web 2\r\n//Date: 2020-09-27\r\n\r\nimport React , {useState , useEffect} from \"react\";\r\nimport { Form, Button,Image,Container,Row,Col } from \"react-bootstrap\";\r\nimport { API } from '../constantes.js';\r\nimport {toast} from \"react-toastify\";\r\nimport '../App.sass';\r\n\r\nfunction FormEditerRapports(props){\r\n  const [donneesRecues , setDonneesRecues] = useState({titre: '',utilisateur: '', picture: '', rapport : '' });\r\n  const [rapportID , setRapportID] = useState(props.location.search.substring(4,props.location.search.length));\r\n  const [photos , setPhotos] = useState(\"\");\r\n  //Ajout de la gestion des erreurs\r\n  useEffect(() => {\r\n    getRapportInfos();\r\n  },[]); //Si on enlève le second paramètre, on obtient une boucle infinie.\r\n\r\n  //On récupère le Pokemon pour ensuite remplir le formulaire.\r\n  async function getRapportInfos() {\r\n    try {\r\n      \r\n      const response = await fetch(API+rapportID);\r\n      const reponseDeApi = await response.json();\r\n      setDonneesRecues(reponseDeApi);\r\n      if (!response.ok) {\r\n        throw Error(response.statusText);\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  async function editRapport(titre,nom,photo,rapport_voyage) { \r\n    try{ \r\n      const response = await fetch(API + rapportID, { \r\n        method:'PUT', \r\n        headers: {'Content-Type': 'application/json'  }, \r\n        body:JSON.stringify({\r\n            theme: titre,\r\n            utilisateur: nom,            \r\n            picture: photo,\r\n            rapport: rapport_voyage        \r\n        }) \r\n      }); \r\n      if(response.ok){ \r\n        props.history.push(\"/\");\r\n        toast.success(\"Modification du Rapport de Voyage \" + titre);\r\n\r\n        return response; \r\n      } \r\n      throw new Error('Request failed!'); \r\n  } \r\n   catch(error){ \r\n      console.log(error); \r\n   } \r\n}\r\n\r\nasync function removeRapport() { \r\n    try{ \r\n    const response = await fetch(API + rapportID, { \r\n      method:'delete', \r\n    }); \r\n    if(response.ok){      \r\n      props.history.push(\"/\");\r\n      toast.error(\"Supression du Rapport de Voyage \");\r\n      return response; \r\n    } \r\n    throw new Error('Request failed!'); \r\n} \r\n catch(error){ \r\n    console.log(error); \r\n } \r\n}\r\n\r\n  function handleEdit(event){\r\n    event.preventDefault();\r\n    \r\n    const titre = document.getElementById('titreRapport').value;\r\n    const nom = document.getElementById('nomRapport').value;\r\n    const photo = document.getElementById('photoRapport').value;\r\n    const rapport_voyage = document.getElementById('rapport_voyageRapport').value;\r\n\r\n    editRapport(titre,nom,photo,rapport_voyage);\r\n  }\r\n\r\n  function handlePhoto(event){\r\n    const photos = document.getElementById('photoRapport').value;\r\n    setPhotos(photos);\r\n  }\r\n    return (\r\n      <>\r\n      <Container fluid className=\"edit_parallax\">\r\n      <Container>\r\n        <Row>\r\n          <Col>\r\n            <Form \r\n            \r\n            >\r\n              <Form.Group controlId=\"titreRapport\">\r\n                <Form.Label>Titre</Form.Label>\r\n                <Form.Control  className=\"rounded-0\" type=\"text\" defaultValue={donneesRecues.theme}/> {/*/ Faire le test avec value*/}\r\n              </Form.Group>\r\n              <Form.Group controlId=\"nomRapport\">\r\n                <Form.Label>Nom du utilisateur</Form.Label>\r\n                <Form.Control className=\"rounded-0\" type=\"text\" defaultValue={donneesRecues.utilisateur}/> {/*/ Faire le test avec value*/}\r\n              </Form.Group>\r\n              <Form.Group controlId=\"photoRapport\">\r\n                <Form.Label>URL d'une photo de la destination</Form.Label>\r\n                <Form.Control className=\"rounded-0\" type=\"text\" placeholder=\"Entrer une URL valide\" onBlur={handlePhoto} defaultValue={donneesRecues.picture}/>\r\n              </Form.Group>\r\n              {donneesRecues.picture !== \"\" && <Image src={donneesRecues.picture} rounded-0 width=\"300\"/>}\r\n              <Form.Group controlId=\"rapport_voyageRapport\">\r\n                <Form.Label>Décrivez votre expérience de voyage</Form.Label>\r\n                <Form.Control className=\"rapport rounded-0\" type=\"textarea\" placeholder=\"Entrer votre expérience de voyage.\" defaultValue={donneesRecues.rapport}/>\r\n              </Form.Group>\r\n             \r\n            <Button className=\"rounded-0\" variant=\"primary\" type=\"submit\" onClick={handleEdit}>\r\n                Enregistrer\r\n            </Button>\r\n            </Form>  \r\n            </Col>    \r\n          </Row>\r\n          <p className=\"btn btn-danger mt-5 rounded-0\" onClick={removeRapport}>Supprimer Rapport de voyage</p>\r\n          </Container>\r\n        </Container>\r\n      </>\r\n    );\r\n  }\r\n\r\n  export default FormEditerRapports;","//Étudiant: Rafael De Mendonça \r\n//Projet Final: PWA / CrudCrud - BlogTours\r\n//Cours: Tech. Intégration des interfaces web2 et Techniques de Programmation Web 2\r\n//Date: 2020-09-27\r\n\r\nimport React from \"react\";\r\nimport { Container, Row } from \"react-bootstrap\";\r\nimport '../App.sass';\r\n\r\nexport class PageNotFound extends React.Component {\r\n  render() {\r\n    return (\r\n      <>\r\n        <Container fluid>\r\n        <img className=\"error404\" src={\"../img/Error404.jpg\"}/>\r\n        </Container>\r\n      </>\r\n    );\r\n  }\r\n}","import React from 'react';\nimport { useLocation } from 'react-router-dom'\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport logo from './img/pwa.png';\nimport { Accueil } from './components/Accueil';\nimport { MenuSansPostBack } from './components/MenuSansPostBack';\nimport { AjouterRapport } from './components/AjouterRapport';\nimport { BoutonAjouterRapport } from './components/BoutonAjouterRapport';\nimport FormEditerRapport from './components/FormEditerRapport';\nimport { PageNotFound } from './components/PageNotFound';\nimport {Route, Switch, Redirect } from 'react-router-dom';\nimport { Nav, Navbar, Navlink } from \"react-bootstrap\"; \nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './App.sass';\n\n\nfunction App() {\n  let location = useLocation();\n\n  return (\n  <>\n  <ToastContainer autoClose={3000} hideProgressBar /> \n    <MenuSansPostBack/> \n    <Switch>  \n      <Redirect exact from=\"/\" to=\"/Accueil\" />  \n      <Route path=\"/\" className=\"mt-5\" exact component={Accueil}/>\n      <Route path=\"/Accueil\" component={Accueil} /> \n      <Route path=\"/AjouterRapport\" component={AjouterRapport}/>\n      <Route path=\"/Rapports/:nom\" component={FormEditerRapport}/>\n      <Route  component={PageNotFound} />       \n    </Switch>  \n      <br></br>\n      {(location.pathname !== \"/AjouterRapport\" && !location.pathname.startsWith(\"/EditerRapport\")) && <BoutonAjouterRapport/> }\n      {(location.pathname !== \"/\")}     \n    </>\n    \n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {BrowserRouter as Router} from 'react-router-dom';\nimport './App.sass'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>   \n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}