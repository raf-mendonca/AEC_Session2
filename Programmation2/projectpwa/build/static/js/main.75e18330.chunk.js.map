{"version":3,"sources":["img/pwa.png","constantes.js","components/Rapports.js","components/Accueil.js","components/BoutonInstallPWA.js","components/MenuSansPostBack.js","components/FormAjoutRappVoyage.js","components/AjouterRapport.js","components/BoutonAjouterRapport.js","components/FormEditerRapport.js","components/PageNotFound.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","API","Rapports","props","Col","xs","sm","lg","CardGroup","Card","className","Img","variant","src","this","photo","Body","to","titre","id","Subtitle","nom","Text","rapport_voyage","React","Component","Accueil","state","donneesRecues","fetch","response","json","reponseDeApi","setState","ok","Error","statusText","console","log","Container","Row","triggerOnce","map","key","i","theme","utilisateur","_id","picture","rapport","BoutonInstallPWA","Button","size","block","MenuSansPostBack","Navbar","fixed","collapseOnSelect","expand","Brand","Toggle","aria-controls","Collapse","Nav","exact","FormAjoutRappVoyage","setErrors","handleAdd","bind","handlePhoto","addPokemon","addRapport","method","headers","body","JSON","stringify","jsonResponse","history","push","toast","success","event","preventDefault","document","getElementById","value","photos","fluid","Form","Group","controlId","Label","Control","type","placeholder","onBlur","Image","rounded-0","width","as","onClick","AjouterRapport","BoutonAjouterRapport","FormEditerRapports","useState","setDonneesRecues","location","search","substring","length","rapportID","setPhotos","a","error","useEffect","getRapportInfos","defaultValue","editRapport","PageNotFound","clasName","App","useLocation","autoClose","hideProgressBar","path","component","FormEditerRapport","from","pathname","startsWith","isLocalhost","Boolean","window","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","ReactDOM","render","StrictMode","URL","process","href","origin","addEventListener","contentType","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.75e18330.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/pwa.3abe438f.png\";","export const API = \"https://crudcrud.com/api/d2aeca13f99f4360940ac77caea001e2/voyages/\";","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Card, CardGroup, Col } from \"react-bootstrap\";\r\nimport '../App.sass';\r\n\r\n\r\nexport class Rapports extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    return ( \r\n     <Col xs={12} sm={6} lg={6}> \r\n        <CardGroup>\r\n            <Card className=\"rounded-0 bg-white mt-3 shadow mb-5\"> \r\n              <Card.Img className=\"img-fluid rounded-0\" variant=\"top\" src={this.props.photo} />       \r\n              <Card.Body>\r\n                <Link to={\"Rapports/\"+ this.props.titre + \"?id=\" + this.props.id}>\r\n                    <Card.Subtitle><h4>{this.props.nom}</h4> </Card.Subtitle>\r\n                    <p>{this.props.titre} <br></br><p className=\"text-danger \">Editer</p></p>                    \r\n                    <Card.Text className=\"text-justify\">{this.props.rapport_voyage}</Card.Text>\r\n                </Link>\r\n              </Card.Body>\r\n            </Card>\r\n        </CardGroup> \r\n      </Col>       \r\n    );\r\n  }\r\n}","import React from \"react\";\r\nimport {API } from \"../constantes\";\r\nimport { Container, Row } from \"react-bootstrap\";\r\nimport { Rapports } from \"./Rapports\";\r\nimport { Slide } from \"react-awesome-reveal\";\r\nimport '../App.sass';\r\n\r\nexport class Accueil extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { donneesRecues: [] };\r\n  }\r\n\r\n  //Ajout de la gestion des erreurs\r\n  async componentDidMount() {\r\n    try {\r\n      const response = await fetch(API);\r\n      const reponseDeApi = await response.json();\r\n      this.setState({ donneesRecues: reponseDeApi });\r\n        if (!response.ok) {\r\n          throw Error(response.statusText);\r\n        }\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n  }\r\n\r\n  render() {\r\n    return (      \r\n      <Container>\r\n      <Row>\r\n        <Slide triggerOnce>         \r\n          <h1 className=\"text-muted mb-3\">Rapports de voyages</h1>\r\n        </Slide> \r\n      </Row>\r\n      <Row>             \r\n        {this.state.donneesRecues.map((key,i) => (\r\n            <Rapports \r\n                    titre={key.theme}\r\n                    nom={key.utilisateur}\r\n                    id={key._id}\r\n                    key={key.titre + key._id}                    \r\n                    photo={key.picture} \r\n                    rapport_voyage={key.rapport}\r\n                    >\r\n            </Rapports>\r\n          ))}                   \r\n        </Row> \r\n      </Container>     \r\n    );\r\n  }    \r\n}\r\n\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Button from 'react-bootstrap/Button';  \r\n\r\nfunction BoutonInstallPWA() {\r\n  return (\r\n    <Button className=\"rounded-0 btn-style\" size=\"md\" block id=\"boutonInstall\">\r\n      Installer l'application\r\n    </Button>\r\n  );\r\n}\r\n\r\nexport default BoutonInstallPWA;\r\n","import React from \"react\";\r\nimport { Nav, Navbar } from \"react-bootstrap\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport BoutonInstallPWA from './BoutonInstallPWA';\r\nimport '../App.sass';\r\n\r\nexport class MenuSansPostBack extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n   \r\n    return (\r\n      <>\r\n        <Navbar fixed=\"top\" collapseOnSelect expand=\"lg\" className=\"shadow bg-ligth-blue\">\r\n        <Navbar.Brand>BlogTours</Navbar.Brand>\r\n        <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\r\n        <Navbar.Collapse id=\"responsive-navbar-nav\">\r\n        <Nav className=\"mr-auto\">\r\n            <NavLink  className=\"mr-3\" exact to=\"/\" >Accueil</NavLink>\r\n            <NavLink  className=\"mr-3 float-right\" to=\"/AjouterRapport\">Ajouter Voyage</NavLink> \r\n        </Nav>\r\n        <Nav>\r\n          <BoutonInstallPWA/>\r\n        </Nav>       \r\n        </Navbar.Collapse>\r\n        </Navbar>  \r\n      </>\r\n    );\r\n  }\r\n}","import React from \"react\";\r\nimport { Form, Button,Image,Container,Row,Col } from \"react-bootstrap\";\r\nimport { API } from '../constantes.js';\r\nimport {toast} from \"react-toastify\";\r\nimport '../App.sass';\r\n\r\nexport class FormAjoutRappVoyage extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {photo: \"\", setErrors : {}};\r\n\r\n    this.handleAdd = this.handleAdd.bind(this);\r\n    this.handlePhoto = this.handlePhoto.bind(this);\r\n    this.addPokemon = this.addRapport.bind(this);\r\n  }\r\n\r\n  async addRapport(nom,titre,photo, rapport_voyage) { \r\n    try{ \r\n      const response = await fetch(API, { \r\n        method:'POST', \r\n        headers: {'Content-Type': 'application/json'  }, \r\n        body:JSON.stringify({\r\n            theme: titre,\r\n            utilisateur: nom,            \r\n            picture: photo,\r\n            rapport: rapport_voyage          \r\n        }) \r\n      }); \r\n      if(response.ok){ \r\n        const jsonResponse = await response.json(); \r\n        this.props.history.push(\"/\");\r\n        toast.success(\"Ajout du Rapport \" + titre);\r\n\r\n        return jsonResponse; \r\n      } \r\n      throw new Error('Request failed!'); \r\n  } \r\n   catch(error){ \r\n      console.log(error); \r\n   } \r\n}\r\n\r\n  handleAdd(event){\r\n    event.preventDefault();\r\n    \r\n    const titre = document.getElementById('titreRapport').value;\r\n     const nom = document.getElementById('nomRapport').value;\r\n    const photo = document.getElementById('photoRapport').value;\r\n    const rapport_voyage = document.getElementById('rapport_voyageRapport').value;\r\n\r\n    this.addRapport(titre,nom,photo,rapport_voyage);\r\n  }\r\n\r\n  handlePhoto(event){\r\n    const photos = document.getElementById('photoRapport').value;\r\n    this.setState( {photo : photos});\r\n  }\r\n\r\n\r\n  render() {\r\n    console.log(this.props.history);\r\n    return (\r\n      <>\r\n      <Container fluid className=\"postal_parallax\">\r\n      <Container >\r\n        <Row>\r\n          <Col>\r\n            <Form className=\"m-5 p-5\">\r\n              <Form.Group controlId=\"titreRapport\">\r\n                <Form.Label className=\"bg-form\">Titre</Form.Label>\r\n                <Form.Control className=\"rounded-0\" type=\"text\" placeholder=\"Entrer le titre du Rapport de voyage\" />\r\n              </Form.Group>\r\n              <Form.Group controlId=\"nomRapport\">\r\n                <Form.Label className=\"bg-form\">Nom du utilisateur</Form.Label>\r\n                <Form.Control className=\"rounded-0\" type=\"text\" placeholder=\"Entrer votre nom\" />\r\n              </Form.Group>\r\n              <Form.Group controlId=\"photoRapport\">\r\n                <Form.Label className=\"bg-form\">URL d'une photo de la destination</Form.Label>\r\n                <Form.Control className=\"rounded-0\" type=\"text\" placeholder=\"Entrer une URL valide\" onBlur={this.handlePhoto}/>\r\n              </Form.Group>\r\n              {this.state.photo !== \"\" && <Image src={this.state.photo} rounded-0 width=\"300\"/>}\r\n              <Form.Group controlId=\"rapport_voyageRapport\">\r\n                <Form.Label className=\"bg-form\">Décrivez votre expérience de voyage</Form.Label>\r\n                <Form.Control as=\"textarea\" className=\"rapport rounded-0\" type=\"text\" placeholder=\"Entrer votre expérience de voyage.\" />\r\n              </Form.Group>\r\n                <Button className=\"rounded-0\" variant=\"primary\" type=\"submit\" onClick={this.handleAdd}>\r\n                    Enregistrer\r\n                </Button>\r\n            </Form>  \r\n            </Col>    \r\n          </Row>\r\n        </Container>\r\n        </Container>\r\n      </>\r\n    );\r\n  }\r\n}","import React from \"react\";\r\nimport { FormAjoutRappVoyage } from \"./FormAjoutRappVoyage\";\r\n\r\n\r\nexport class AjouterRapport extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  } \r\n  render() {\r\n    return (\r\n      <>\r\n        <FormAjoutRappVoyage history={this.props.history} />\r\n      </>\r\n    );\r\n  }\r\n}","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport class BoutonAjouterRapport extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <> \r\n        <Link to=\"/AjouterRapport\" className=\"btn btn-sm mt-5 rounded-0 btn-style fixed-bottom\" size=\"md\" >\r\n          Ajouter un Rapport de Voyage\r\n        </Link>\r\n      </>\r\n    );\r\n  }\r\n}","import React , {useState , useEffect} from \"react\";\r\nimport { Form, Button,Image,Container,Row,Col } from \"react-bootstrap\";\r\nimport { API } from '../constantes.js';\r\nimport {toast} from \"react-toastify\";\r\nimport '../App.sass';\r\n\r\nfunction FormEditerRapports(props){\r\n  const [donneesRecues , setDonneesRecues] = useState({titre: '',utilisateur: '', picture: '', rapport : '' });\r\n  const [rapportID , setRapportID] = useState(props.location.search.substring(4,props.location.search.length));\r\n  const [photos , setPhotos] = useState(\"\");\r\n  //Ajout de la gestion des erreurs\r\n  useEffect(() => {\r\n    getRapportInfos();\r\n  },[]); //Si on enlève le second paramètre, on obtient une boucle infinie.\r\n\r\n  //On récupère le Pokemon pour ensuite remplir le formulaire.\r\n  async function getRapportInfos() {\r\n    try {\r\n      \r\n      const response = await fetch(API+rapportID);\r\n      const reponseDeApi = await response.json();\r\n      setDonneesRecues(reponseDeApi);\r\n      if (!response.ok) {\r\n        throw Error(response.statusText);\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  async function editRapport(titre,nom,photo,rapport_voyage) { \r\n    try{ \r\n      const response = await fetch(API + rapportID, { \r\n        method:'PUT', \r\n        headers: {'Content-Type': 'application/json'  }, \r\n        body:JSON.stringify({\r\n            theme: titre,\r\n            utilisateur: nom,            \r\n            picture: photo,\r\n            rapport: rapport_voyage        \r\n        }) \r\n      }); \r\n      if(response.ok){ \r\n        props.history.push(\"/\");\r\n        toast.success(\"Modification du Rapport de Voyage \" + titre);\r\n\r\n        return response; \r\n      } \r\n      throw new Error('Request failed!'); \r\n  } \r\n   catch(error){ \r\n      console.log(error); \r\n   } \r\n}\r\n\r\nasync function removeRapport() { \r\n    try{ \r\n    const response = await fetch(API + rapportID, { \r\n      method:'delete', \r\n    }); \r\n    if(response.ok){      \r\n      props.history.push(\"/\");\r\n      toast.error(\"Supression du Rapport de Voyage \");\r\n      return response; \r\n    } \r\n    throw new Error('Request failed!'); \r\n} \r\n catch(error){ \r\n    console.log(error); \r\n } \r\n}\r\n\r\n  function handleEdit(event){\r\n    event.preventDefault();\r\n    \r\n    const titre = document.getElementById('titreRapport').value;\r\n    const nom = document.getElementById('nomRapport').value;\r\n    const photo = document.getElementById('photoRapport').value;\r\n    const rapport_voyage = document.getElementById('rapport_voyageRapport').value;\r\n\r\n    editRapport(titre,nom,photo,rapport_voyage);\r\n  }\r\n\r\n  function handlePhoto(event){\r\n    const photos = document.getElementById('photoRapport').value;\r\n    setPhotos(photos);\r\n  }\r\n    return (\r\n      <>\r\n      <Container fluid className=\"edit_parallax\">\r\n      <Container>\r\n        <Row>\r\n          <Col>\r\n            <Form className=\"custom\">\r\n              <Form.Group controlId=\"titreRapport\">\r\n                <Form.Label>Titre</Form.Label>\r\n                <Form.Control  className=\"rounded-0\" type=\"text\" defaultValue={donneesRecues.theme}/> {/*/ Faire le test avec value*/}\r\n              </Form.Group>\r\n              <Form.Group controlId=\"nomRapport\">\r\n                <Form.Label>Nom du utilisateur</Form.Label>\r\n                <Form.Control className=\"rounded-0\" type=\"text\" defaultValue={donneesRecues.utilisateur}/> {/*/ Faire le test avec value*/}\r\n              </Form.Group>\r\n              <Form.Group controlId=\"photoRapport\">\r\n                <Form.Label>URL d'une photo de la destination</Form.Label>\r\n                <Form.Control className=\"rounded-0\" type=\"text\" placeholder=\"Entrer une URL valide\" onBlur={handlePhoto} defaultValue={donneesRecues.picture}/>\r\n              </Form.Group>\r\n              {donneesRecues.picture !== \"\" && <Image src={donneesRecues.picture} rounded-0 width=\"300\"/>}\r\n              <Form.Group controlId=\"rapport_voyageRapport\">\r\n                <Form.Label>Décrivez votre expérience de voyage</Form.Label>\r\n                <Form.Control className=\"rapport rounded-0\" type=\"textarea\" placeholder=\"Entrer votre expérience de voyage.\" defaultValue={donneesRecues.rapport}/>\r\n              </Form.Group>\r\n             \r\n            <Button className=\"rounded-0\" variant=\"primary\" type=\"submit\" onClick={handleEdit}>\r\n                Enregistrer\r\n            </Button>\r\n            </Form>  \r\n            </Col>    \r\n          </Row>\r\n          <p className=\"btn btn-danger mt-5 rounded-0\" onClick={removeRapport}>Supprimer Rapport de voyage</p>\r\n          </Container>\r\n        </Container>\r\n      </>\r\n    );\r\n  }\r\n\r\n  export default FormEditerRapports;","import React from \"react\";\r\nimport '../App.sass';\r\n\r\nexport class PageNotFound extends React.Component {\r\n  render() {\r\n    return (\r\n      <>\r\n        <img clasName=\"error404\" src={\"https://media.istockphoto.com/photos/internet-404-error-page-not-found-with-gear-wheel-isolated-on-white-picture-id1202258617?k=6&m=1202258617&s=170667a&w=0&h=190u0JGrmP0mNM53q9jJUKJJNV6_HfUPxDrdEy3C8Hs=\"}/>\r\n      </>\r\n    );\r\n  }\r\n}","import React from 'react';\nimport { useLocation } from 'react-router-dom'\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport logo from './img/pwa.png';\nimport { Accueil } from './components/Accueil';\nimport { MenuSansPostBack } from './components/MenuSansPostBack';\nimport { AjouterRapport } from './components/AjouterRapport';\nimport { BoutonAjouterRapport } from './components/BoutonAjouterRapport';\nimport FormEditerRapport from './components/FormEditerRapport';\nimport { PageNotFound } from './components/PageNotFound';\nimport {Route, Switch, Redirect } from 'react-router-dom';\nimport { Nav, Navbar, Navlink } from \"react-bootstrap\"; \nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './App.sass';\n\n\nfunction App() {\n  let location = useLocation();\n  return (\n  <>\n  <ToastContainer autoClose={3000} hideProgressBar />  \n    <MenuSansPostBack/> \n    <Switch>    \n      <Route path=\"/\" className=\"mt-5\" exact component={Accueil}/>\n      <Route path=\"/AjouterRapport\" component={AjouterRapport}/>\n      <Route path=\"/Rapports/:nom\" component={FormEditerRapport}/>\n      <Redirect from=\"https://raf-mendonca.github.io/AEC_Session2/Programmation2/projectpwa/build/index.html\" to=\"/\"/>\n      <Route  component={PageNotFound} />       \n    </Switch>  \n      <br></br>\n      {(location.pathname !== \"/AjouterRapport\" && !location.pathname.startsWith(\"/EditerRapport\")) && <BoutonAjouterRapport/> }\n      {(location.pathname !== \"/\")}     \n    </>\n    \n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {BrowserRouter as Router} from 'react-router-dom' \nimport './App.sass'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>    \n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}